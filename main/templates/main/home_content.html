{% load static %}

<!-- Redesigned hero section for item exchange website with video background support -->
<section class="relative min-h-screen flex items-center justify-center overflow-hidden animate-fade-in">
    <!-- Video Background Container with fallback gradient -->
    <div class="absolute inset-0 z-0 bg-gradient-to-br from-gray-900 via-black to-gray-900">
        <!-- Video element -->
        <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover">
            <!-- # ВИДЕО ФОН: Замените путь на ваше видео # -->
            <!-- Путь: static/video/about.mp4 -->
            <source src="{% static 'video/about.mp4' %}" type="video/mp4">
        </video>
        
        <!-- Increased overlay opacity from 60 to 80 for stronger darkening -->
        <div class="absolute inset-0 bg-black opacity-80 z-10"></div>
    </div>
    
    <!-- Main content -->
    <div class="relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto animate-slide-up">
        <div class="space-y-6">
            <!-- Main heading -->
            <h1 class="text-5xl sm:text-6xl md:text-7xl font-light text-white leading-tight">
                Обменивайте вещи
                <span class="block font-bold mt-2">Легко и быстро</span>
            </h1>
            
            <!-- Description -->
            <p class="text-gray-300 text-lg sm:text-xl max-w-2xl mx-auto leading-relaxed">
                Дайте вещам новую жизнь. Обменивайтесь с другими пользователями без лишних затрат.
            </p>
            
            <!-- Single CTA button -->
            <div class="flex justify-center items-center pt-8">
                <button class="px-10 py-4 border-2 border-white text-white font-semibold rounded-lg hover:border-gray-300 hover:bg-gray-900 transition-all duration-300 transform hover:scale-105">
                    Посмотреть предложения
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Products Showcase Section -->
<!-- Removed all gaps between blocks and fixed image positions -->
<section class="w-full animate-fade-in-up">
    <div class="w-full">
        <!-- Grid: Левая колонка с 2 рядами, правая колонка с 1 большим блоком -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-0 h-auto lg:h-[700px]">
            <!-- Левая колонка: PlayStation 5 сверху, AirPods Max и Vision Pro снизу -->
            <div class="flex flex-col gap-0">
                <!-- PlayStation 5 Card - большая карточка -->
                <div class="bg-white overflow-hidden p-8 lg:p-12 flex items-center gap-8 flex-1 transition-colors duration-300">
                    <div class="flex-shrink-0 w-1/2">
                        <!-- # ФОТО 1: PLAYSTATION 5 # -->
                        <!-- Путь: static/images/playstation5.png -->
                        <img src="{% static 'img/igra.jpg' %}" 
                             alt="PlayStation 5" 
                             class="w-full object-contain">
                    </div>
                    <div class="flex-1">
                        <h3 class="text-3xl lg:text-4xl font-light mb-4">Для хобби</h3>
                        <p class="text-gray-500 text-sm lg:text-base">
                            Найдите вдохновение в каждом обмене! Здесь живут инструменты, материалы и уникальные находки для вашего хобби. Откройте новые таланты и подарите вторую жизнь вещам для творчества.
                        </p>
                    </div>
                </div>

                <!-- Нижний ряд: AirPods Max и Vision Pro -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-0">
                    <!-- Apple AirPods Max Card -->
                    <div class="bg-[#EDEDED] overflow-hidden p-8 lg:p-10 flex items-center gap-6 min-h-[280px] transition-colors duration-300">
                        <div class="flex-shrink-0">
                            <!-- # ФОТО 3: AIRPODS MAX # -->
                            <!-- Путь: static/images/airpods-max.png -->
                            <img src="{% static 'img/rub.png' %}" 
                                 alt="Apple AirPods Max" 
                                 class="w-32 h-32 lg:w-40 lg:h-40 object-contain">
                        </div>
                        <div class="flex-1">
                            <h3 class="text-2xl lg:text-3xl font-light mb-2">
                                Одежда<br><span class="font-semibold"></span>
                            </h3>
                            <p class="text-gray-500 text-sm lg:text-base">
                                Обновляйте гардероб без вреда для планеты! В этом разделе — стильная одежда, обувь и аксессуары, которые ищут нового владельца. Меняйтесь с настроением и создавайте уникальные образы.
                            </p>
                        </div>
                    </div>

                    <!-- Apple Vision Pro Card -->
                    <div class="bg-[#353535] overflow-hidden p-8 lg:p-10 flex flex-row items-center gap-6 min-h-[280px] transition-colors duration-300">
                        <div class="flex-shrink-0">
                            <!-- # ФОТО 4: VISION PRO # -->
                            <!-- Путь: static/images/vision-pro.png -->
                            <img src="{% static 'img/shar.png' %}" 
                                 alt="Apple Vision Pro" 
                                 class="w-32 h-32 lg:w-40 lg:h-40 object-contain">
                        </div>
                        <div class="flex-1">
                            <h3 class="text-2xl lg:text-3xl font-light text-white mb-2">
                                Для дома<br><span class="font-semibold"></span>
                            </h3>
                            <p class="text-gray-400 text-sm lg:text-base">
                                Преобразите свое пространство! Здесь можно найти всё для уюта: от посуды и текстиля до предметов интерьера. Подарите привычным вещам новую жизнь в другом доме.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Правая колонка: MacBook Air - один большой блок на всю высоту -->
            <div class="bg-[#F5F5F5] overflow-hidden p-8 lg:p-12 flex items-center gap-8 transition-colors duration-300">
                <div class="flex-1">
                    <h3 class="text-4xl lg:text-5xl font-light mb-4">Электроника <span class="font-semibold"></span></h3>
                    <p class="text-gray-500 text-base lg:text-lg max-w-md mb-6">
                        Гаджеты ждут нового хозяина! Обменивайте технику, которая работает исправно, но стала не нужна вам. Подарите смартфонам, наушникам и другим устройствам второй шанс — экологично и выгодно.
                    </p>
                    <button class="px-10 py-3 border-2 border-black text-black font-medium rounded-md hover:bg-black hover:text-white transition-all duration-300">
                        Посмотреть предложения
                    </button>
                </div>
                <div class="flex-shrink-0 w-1/2">
                    <!-- # ФОТО 2: MACBOOK AIR (или наушники как на втором скриншоте) # -->
                    <!-- Путь: static/images/macbook-air.png -->
                    <img src="{% static 'img/ushi.png' %}" 
                         alt="MacBook Air" 
                         class="w-full object-contain">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Added Browse By Category section with horizontal scroll and navigation arrows -->
<section class="mx-auto px-4 sm:px-6 lg:px-8 py-16 max-w-7xl animate-fade-in-up" style="animation-delay: 0.2s;">
    <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-semibold text-gray-900">Просмотр по категориям</h2>
        <div class="flex gap-2">
            <button id="scroll-left" class="w-10 h-10 rounded-full bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <button id="scroll-right" class="w-10 h-10 rounded-full bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </button>
        </div>
    </div>
    
    <div id="category-scroll" class="flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth pb-4" style="scrollbar-width: none; -ms-overflow-style: none;">
        <!-- Phones -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2" stroke-width="1.5"/>
                <line x1="12" y1="18" x2="12" y2="18" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Телефоны</span>
        </div>
        
        <!-- Smart Watches -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="7" y="4" width="10" height="16" rx="2" stroke-width="1.5"/>
                <path d="M9 2h6M9 22h6" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Смарт часы</span>
        </div>
        
        <!-- Cameras -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" stroke-width="1.5"/>
                <circle cx="12" cy="13" r="4" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Камеры</span>
        </div>
        
        <!-- Headphones -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M3 18v-6a9 9 0 0 1 18 0v6" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Наушники</span>
        </div>
        
        <!-- Computers -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="2" y="3" width="20" height="14" rx="2" stroke-width="1.5"/>
                <line x1="8" y1="21" x2="16" y2="21" stroke-width="1.5" stroke-linecap="round"/>
                <line x1="12" y1="17" x2="12" y2="21" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Компьютеры</span>
        </div>
        
        <!-- Gaming -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M6 12h4m2 0h4m-6-2v4" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M18 14v.01M18 10v.01" stroke-width="2" stroke-linecap="round"/>
                <path d="M6 8.5C6 6.567 7.567 5 9.5 5h5c1.933 0 3.5 1.567 3.5 3.5v7c0 1.933-1.567 3.5-3.5 3.5h-5C7.567 19 6 17.433 6 15.5v-7z" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Игры</span>
        </div>
        
        <!-- Tablets -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="4" y="2" width="16" height="20" rx="2" stroke-width="1.5"/>
                <line x1="12" y1="18" x2="12" y2="18" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Планшеты</span>
        </div>
        
        <!-- Speakers -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M9 18V5l12-2v13" stroke-width="1.5" stroke-linecap="round"/>
                <circle cx="6" cy="18" r="3" stroke-width="1.5"/>
                <circle cx="18" cy="16" r="3" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Для музыки</span>
        </div>
        
        <!-- Wearables -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" stroke-width="1.5"/>
                <path d="M12 6v6l4 2" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Носимые устройства</span>
        </div>
        
        <!-- Accessories -->
        <div class="flex-shrink-0 w-40 h-32 bg-[#EDEDED] rounded-2xl flex flex-col items-center justify-center gap-3 hover:bg-gray-200 transition-all duration-500 cursor-pointer transform hover:scale-102 hover:shadow-md">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M20 7h-9M14 17H5" stroke-width="1.5" stroke-linecap="round"/>
                <circle cx="17" cy="17" r="3" stroke-width="1.5"/>
                <circle cx="7" cy="7" r="3" stroke-width="1.5"/>
            </svg>
            <span class="text-sm font-medium text-gray-900">Аксессуары</span>
        </div>
    </div>
</section>

<script>
    // Category scroll navigation
    const scrollContainer = document.getElementById('category-scroll');
    const scrollLeftBtn = document.getElementById('scroll-left');
    const scrollRightBtn = document.getElementById('scroll-right');
    
    scrollLeftBtn.addEventListener('click', () => {
        scrollContainer.scrollBy({ left: -300, behavior: 'smooth' });
    });
    
    scrollRightBtn.addEventListener('click', () => {
        scrollContainer.scrollBy({ left: 300, behavior: 'smooth' });
    });
</script>

<!-- Big Summer Sale Section -->
<section class="relative bg-[#0B0B0B] min-h-[700px] flex items-center justify-center overflow-hidden py-16 px-4 animate-fade-in-up" style="animation-delay: 0.3s;">
    <!-- Video Background -->
    <div class="absolute inset-0 z-0">
        <!-- Adjusted object-position to 30% to show more of the upper part where person's head is -->
        <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover" style="object-position: center 30%;">
            <source src="{% static 'video/main2.mp4' %}" type="video/mp4">
        </video>
        <!-- Dark overlay for better text readability -->
        <div class="absolute inset-0 bg-black opacity-70"></div>
    </div>
    
    <!-- Device Images -->
    <div class="absolute left-0 top-0 w-1/3 h-full flex items-center justify-start pl-8 z-10">
        <!-- # ФОТО 5: ПЛАНШЕТ И ТЕЛЕФОН (слева) # -->
        <!-- Путь: static/images/devices-left.png -->
      
    </div>
    
    <div class="absolute right-0 top-0 w-1/3 h-full flex items-center justify-end pr-8 z-10">
        <!-- # ФОТО 6: IPHONE И APPLE WATCH (справа) # -->
        <!-- Путь: static/images/devices-right.png -->
    </div>
    
    <!-- Center Content -->
    <div class="relative z-20 text-center max-w-2xl mx-auto">
        <h2 class="text-4xl sm:text-5xl lg:text-6xl font-light text-white mb-4">
            Искусство Разумного <span class="font-bold">Обмена</span>
        </h2>
        <p class="text-gray-400 text-sm sm:text-base mb-8">
            Присоединяйтесь к сообществу, которое верит в ценность повторного использования. Обменивайтесь, экономьте и делайте вклад в заботу о планете.
        </p>
        <button class="px-12 py-3 border-2 border-white text-white font-medium rounded-md hover:bg-white hover:text-black transition-all duration-300">
            Посмотреть предложения
        </button>
    </div>
</section>

<!-- Redesigned ENFANTS RICHES DÉPRIMÉS category section with modern styling -->
<section class="bg-white py-20 animate-fade-in-up" style="animation-delay: 0.4s;">
    <div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
        <div class="text-center mb-12">
            <h2 class="text-4xl sm:text-5xl font-light tracking-tight text-gray-900 mb-4">
                Swaply <span class="font-semibold"></span>
            </h2>
            <p class="text-lg text-gray-600">
                Выберите нужную категорию
            </p>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for category in categories %}
            <a href="{% url 'main:catalog' category.slug %}" 
               hx-get="{% url 'main:catalog' category.slug %}" 
               hx-target="#main-content" 
               hx-push-url="true"
               class="group relative overflow-hidden rounded-2xl bg-gradient-to-br from-black to-gray-900 p-8 min-h-[200px] flex items-end transition-all duration-500 hover:scale-105 hover:shadow-2xl animate-slide-up"
               style="animation-delay: {{ forloop.counter0|add:'0.1' }}s;">
                
                <!-- Decorative background pattern -->
                <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                
                <!-- Category content -->
                <div class="relative z-10 w-full">
                    <h3 class="text-2xl font-bold text-white mb-2 group-hover:translate-x-2 transition-transform duration-300">
                        {{ category.name|upper }}
                    </h3>
                    <div class="w-12 h-1 bg-white transform origin-left transition-all duration-300 group-hover:w-20"></div>
                </div>
                
                <!-- Arrow icon -->
                <div class="absolute top-6 right-6 text-white opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                    </svg>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Added CSS animations -->
<style>
    @keyframes fade-in {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    
    @keyframes slide-up {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .animate-fade-in {
        animation: fade-in 1s ease-out;
    }
    
    .animate-slide-up {
        animation: slide-up 0.8s ease-out;
    }
    
    .animate-fade-in-up {
        animation: fade-in-up 1s ease-out;
        animation-fill-mode: both;
    }
    
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
</style>
